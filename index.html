<!DOCTYPE html>
<html>
    <head>
        <link rel = "stylesheet" href="style.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

        <script src=“script.js”></script>
    </head>
<body>
<h1>UCLA Swipe Count</h1>
<h4>Manage your swipes!</h4>
    
<div class = "row">
    
<div class = "col-md-3 col-sm-2">
    <label>19P</label>
    <button onclick="getElementById('xSwipes').innerHTML = CalcN()"id = "19" class = "rounded 19P">Check Swipes</button>
</div>
    
<div class = "col-md-3 col-sm-2">
    <label>14P</label>
    <button onclick="getElementById('xSwipes').innerHTML = CalcFP()"id = "14" class = "rounded 14P"  >Check Swipes</button>
</div>
    
<div class = "col-md-3 col-sm-2">
    <label>19</label>
    <button onclick="getElementById('xSwipes').innerHTML = CalcNR()"id = "19R" class = "rounded 19">Check Swipes</button>
</div>
    
<div class = "col-md-3 col-sm-2">
    <label>14</label>
    <button onclick="getElementById('xSwipes').innerHTML = CalcF()"id = "14R" class = "rounded 14">Check Swipes</button>
</div>

   
</div>
    
<div> 
<h5 id = "xSwipes"></h5>
</div>

    
    
 
    
    
    
<script>
function CalcFP(){
    //Total Swipes for 14P
    var totalSwipes = 151;
    var d = new Date();
    var m = new Date();
    var month = m.getMonth();
    var day = d.getDate();
    if(month == 4){
    day -= 7;
    totalSwipes = totalSwipes - (day * 2);
    }
    else if(month == 5){
    totalSwipes -= 48;   
    totalSwipes = totalSwipes - ((day + 1) * 2);
    }
    else{
    totalSwipes -= 104; 
    totalSwipes = totalSwipes - ((day + 1) * 2);
    }

var display = "Your total Swipes left should be: " + totalSwipes;
return display;
}
    
    
    
function CalcF(){
//Total Swipes for 14
var totalSwipes = 14;
var d = new Date();
var day = d.getDay();
totalSwipes -= ((day - 1)*2);
if(day == 0){
    totalSwipes = 2;
}
var display = "Your total Swipes left for this week should be: " + totalSwipes;
return display;
}
    
function CalcNR(){
    var totalSwipes = 19;
    var d = new Date();
    var day = d.getDay();
if(day == 0){
totalSwipes = 2;
}
else if(day == 6){
totalSwipes = 4;
}
else{
totalSwipes -= ((day - 1) * 3) ;
}

var display = "Your total Swipes left for this week should be: " + totalSwipes;
return display;
}
    
 //======For 19P   
function CalcN(){
var dayOfYear = getDayOfYear();
dayOfYear -= 7;
var extraDays = [0,2,5,8,11,14,17];
var totalSwipes = 203;// start off with # of swipes
totalSwipes = totalSwipes - (Math.floor(dayOfYear/7)) * 19 - extraDays[dayOfYear%7];
    
   
//EXTRA HOLIDAYS

var holidays = [0,8,43,75];
for(var x = 0; x < 4; x++){
    if(dayOfYear > holidays[x]){
        totalSwipes++;
    }
}

    
    
    
var display = "Your total Swipes left should be: " + totalSwipes;
return display;

}

function getDayOfYear(){
    var d = new Date();
    var m = new Date();
    var month = m.getMonth();
    var day = d.getDate();
    var array = [31,28,31,30,31,30,31,31,30,31,30,31];
    var dayOfYear = 0;
    
    for(var x = 0; x < month; x++){
        dayOfYear += array[x];
    }
    dayOfYear += day;
    
    return dayOfYear;
}
    
    
</script>    
    
    
    
    

</body>
</html>